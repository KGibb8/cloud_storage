!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title CloudStorage
    = csrf_meta_tags
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload'
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
  %body.bg-teal
    - if current_user
      %ul#slide-out.side-nav
        %li
          .userView
            .background
              %img
            = link_to root_url(subdomain: 'app') do
              %span.home Home
            -# %a{:href => "#!user"}
            -#   %img.circle
            %a{:href => "#!name"}
              %span.name Current User: #{current_user.id}
            %a{:href => "#!email"}
              %span.email= current_user.email
            = link_to destroy_user_session_path, method: :delete do
              %span.logout Log out

        - current_user.accounts.each do |account|
          %li
            = link_to root_url(subdomain: account.subdomain) do
              %i.material-icons>
              = account.subdomain

    %ul#dropdown1.dropdown-content
      %li
        %a{:href => "#!"} one
      %li
        %a{:href => "#!"} two
      %li.divider
      %li
        %a{:href => "#!"} three
    %nav.bg-dark
      .nav-wrapper
        %a.brand-logo{:href => "#!"}
          = precede 'blockade' do
            %strong space
        %ul.right.hide-on-med-and-down
          %li
            %a{:href => "sass.html"} Sass
          %li
            %a{:href => "badges.html"} Components
          / Dropdown Trigger
          %li
            %a.dropdown-button{"data-activates" => "dropdown1", :href => "#!"}
              Dropdown
              %i.material-icons.right

      %a.button-collapse{"data-activates" => "slide-out", :href => "#"}

    - if flash.any?
      - flash.each do |k, v|
        %div{ id: "alert-#{k}" }= v

    .row
      .col.s10
      .col.s2
        %button.hamburger.hamburger--arrow-r{:type => "button"}
          %span.hamburger-box
            %span.hamburger-inner

    .container
      = yield

:javascript
  $(function () {
      // Initialize collapse button
      $(".button-collapse").sideNav();
      // Initialize collapsible (uncomment the line below if you use the dropdown variation)
      $('.collapsible').collapsible();

      $('body').on('swiperight', function () {
        $('.button-collapse').sideNav('show');
      });

      $('.side-nav').on('swipeleft', function () {
        $('.button-collapse').sideNav('hide');
      });

      $('button.hamburger').on('click', function () {
        $('.button-collapse').sideNav('show');
      });

    });
